{% extends "base.html" %}
{% block content %}
<div class="container my-5" style="max-width: 500px;">

  <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
  <h2 class="mb-4 text-center fw-bold">ðŸ”’ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h2>

  <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
  <div id="messages-container">
      {% if messages %}
          {% for message in messages %}
              <div class="alert alert-{{ message.tags }} shadow-sm mb-2 animate__animated animate__fadeInLeft"
                   role="alert">
                  {{ message }}
              </div>
          {% endfor %}
      {% endif %}
  </div>

  <!-- Ø§Ù„ÙÙˆØ±Ù… -->
  <div class="card shadow-sm border-0 rounded-3">
    <div class="card-body p-4">
      <form method="post" novalidate>
        {% csrf_token %}

        <div class="mb-3">
          <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©</label>
          <input type="password" name="old_password" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©" required>
        </div>

        <div class="mb-3">
          <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
          <input type="password" name="new_password1" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¬Ø¯ÙŠØ¯Ø©" required>
        </div>

        <div class="mb-3">
          <label class="form-label">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
          <input type="password" name="new_password2" class="form-control" placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" required>
        </div>

        <button type="submit" class="btn btn-primary w-100 py-2">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</button>
      </form>
    </div>
  </div>
</div>

<style>
/* Ù…ÙƒØ§Ù† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
#messages-container {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1050;
    width: 280px;
}
#messages-container .alert {
    border-radius: 10px;
    padding: 12px 16px;
    font-size: 14px;
}

/* Ø«ÙŠÙ… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
body.dark-mode .card,
body.dark-mode .form-control,
body.dark-mode textarea,
body.dark-mode input {
    color: #ffffff !important;
    background-color: #2c2c2c !important;
    border-color: rgba(255,255,255,0.2) !important;
}
body.dark-mode .form-control::placeholder {
    color: #bbbbbb !important;
}
</style>

<!-- Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<!-- Ø³ÙƒØ±Ø¨Øª Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ -->
<script>
document.addEventListener("DOMContentLoaded", function() {
    const alerts = document.querySelectorAll("#messages-container .alert");
    alerts.forEach(alert => {
        setTimeout(() => {
            alert.classList.add("animate__fadeOutLeft"); // ÙŠØ¨Ø¯Ø£ ÙŠØ®ØªÙÙŠ
            setTimeout(() => alert.remove(), 1000); // Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© ÙŠØªÙ… Ù…Ø³Ø­Ù‡ Ù†Ù‡Ø§Ø¦ÙŠ
        }, 5000); // ÙŠØ¨Ø¯Ø£ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†ÙŠ
    });
});
</script>

{% endblock content %}
